<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting-started-with-scrobbler-part-2 • scrobbler</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting-started-with-scrobbler-part-2">
<meta property="og:description" content="scrobbler">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scrobbler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Getting-started-with-scrobbler-part-1.html">Getting-started-with-scrobbler-part-1</a>
    </li>
    <li>
      <a href="../articles/Getting-started-with-scrobbler-part-2.html">Getting-started-with-scrobbler-part-2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/condwanaland/scrobbler/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Getting-started-with-scrobbler-part-2_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting-started-with-scrobbler-part-2</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/condwanaland/scrobbler/blob/master/vignettes/Getting-started-with-scrobbler-part-2.Rmd"><code>vignettes/Getting-started-with-scrobbler-part-2.Rmd</code></a></small>
      <div class="hidden name"><code>Getting-started-with-scrobbler-part-2.Rmd</code></div>

    </div>

    
    
<p>As a quick recap from part 1, scrobbling is a service offered by Last.fm, where any music you listen to on other platforms (i.e., Spotify) is recorded and stored by Last.fm, along with a timestamp and associated metadata. <code>scrobbler</code> is intended as an interface to that database, so you can download and explore your music history with the full freedom of R. Please note, this 2nd part assumes you have already set up a Last.fm account and have at least one song already scrobbled.</p>
<p>As an aside on what <code>scrobbler</code> is not: <code>scrobbler</code> is not intended to be a general wrapper around the Last.fm scrobble API. The <a href="https://www.last.fm/api/scrobbling">full API</a> has a lot of methods available, but the <code>scrobbler</code> package is designed to do one thing; download your listening history into R. If there is other functionality of the API you’d like to see in <code>scrobbler</code>, please reach out on <a href="https://github.com/condwanaland/scrobbler/issues">github</a>.</p>
<div id="getting-set-up" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-set-up" class="anchor"></a>Getting set up</h3>
<p>In addition to having a Last.fm account, downloading your scrobbles requires you to have an API key (this just authenricates you with Last.fm). To get an API key, you can go through the process <a href="https://www.last.fm/api/account/create">here</a> (it takes less than 5 mins). Note you should only have to fill out the name and descripton, and you just have to describe that you are downloading your scrobble history for personal analysis. Dont worry about the callback url or homepage. Once you’ve gone through that step, you should be provided with an API key. Save this key somewhere secure!</p>
</div>
<div id="downloading-your-music-history" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-your-music-history" class="anchor"></a>Downloading your music history</h3>
<p>Now it should be smooth sailing from here. Make sure you start by loading scrobbler</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/condwanaland/scrobbler">scrobbler</a></span><span class="op">)</span></code></pre></div>
<p>And now call the <code>download_scrobbles</code> function, using your username and API key, to start downloading your tracks.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_songs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_scrobbles.html">download_scrobbles</a></span><span class="op">(</span>
  username <span class="op">=</span> <span class="st">"your_username"</span>,
  api_key <span class="op">=</span> <span class="st">"your_api_key"</span>
  <span class="op">)</span></code></pre></div>
<p>And thats it! You should now have a dataframe called ‘my_songs’ that contains info one row for each song you listened to, along with its timestamp. You can now analyse this in any way you choose. Lets have a look at what it looks like</p>
<pre><code>#&gt;                               song_mbid         song_title
#&gt; 1  192915d7-c2df-44f6-9e08-b7d80745bdd3            So Soon
#&gt; 2  6dd374d1-e707-4de0-89b3-889fbb7d7bad             B Team
#&gt; 3  45d25340-5791-4f93-a642-94494b057646       Toy Soldiers
#&gt; 4  0f361896-d6fc-4179-9987-47bf59437c83            Stutter
#&gt; 5  34d419dd-eaf7-48de-b4df-704c61463cd7            Fallout
#&gt; 6  3c8fe6d5-66ac-3b8b-a3f5-36f63fcff693          Porcelain
#&gt; 7  0050b4bf-21d2-47f2-a306-4af3dad79018 Desperate Measures
#&gt; 8  4d834fbe-e72d-3e06-88d9-da4945421182      Truth Or Dare
#&gt; 9  0ddd52c6-45ed-4064-add0-5d0f0f29af34             By Now
#&gt; 10 0651a786-0711-4ab8-8eee-148d277c143a           My World
#&gt;                             artist_mbid          artist
#&gt; 1  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 2  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 3  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 4  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 5  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 6  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 7  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 8  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 9  e358276d-4377-4b9b-88dd-db0d17b0e3c6 Marianas Trench
#&gt; 10 0103c1cc-4a09-4a5d-a344-56ad99a77193   Avril Lavigne
#&gt;                              album_mbid      album  date_unix
#&gt; 1  180bb020-8349-4031-b8a3-bb544a396d84 Ever After         NA
#&gt; 2  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608151945
#&gt; 3  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608151694
#&gt; 4  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608151493
#&gt; 5  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608151238
#&gt; 6  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608150918
#&gt; 7  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608150689
#&gt; 8  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608150459
#&gt; 9  180bb020-8349-4031-b8a3-bb544a396d84 Ever After 1608150203
#&gt; 10 002a0094-40b7-4403-99ab-f3b0daeffacd     Let Go 1608118840
#&gt;                  date
#&gt; 1                &lt;NA&gt;
#&gt; 2  16 Dec 2020, 20:52
#&gt; 3  16 Dec 2020, 20:48
#&gt; 4  16 Dec 2020, 20:44
#&gt; 5  16 Dec 2020, 20:40
#&gt; 6  16 Dec 2020, 20:35
#&gt; 7  16 Dec 2020, 20:31
#&gt; 8  16 Dec 2020, 20:27
#&gt; 9  16 Dec 2020, 20:23
#&gt; 10 16 Dec 2020, 11:40</code></pre>
<p>The song_, artist_, and album_mbid columns refer to MusicBrainz ID. MusicBrainz is a music encyclopedia that contains lots of data about songs, artists, and albums. You can use the ID to access that entry in MusicBrainz if you want additional metadata (but be warned, these columns may not always be filled). Accessing MusicBrainz will be covered in another post.</p>
</div>
<div id="updating-your-dataframe" class="section level3">
<h3 class="hasAnchor">
<a href="#updating-your-dataframe" class="anchor"></a>Updating your dataframe</h3>
<p>As you may have noticed, it takes a while to download all your music. It would be a pain if you had to go through that process everytime you wanted to make sure your scrobbles were up to date. <code>scrobbler</code> provides a <code>update_scrobbles</code> function that makes this easier.</p>
<p>To use <code>update_scrobbles</code> you pass in an existing dataframe of songs, and supply a date columm (you should use the <code>date_unix</code> column that is included in scrobble dataframes by default). This will then only download your new scrobbles not included in the original dataframe, and create a new one with all your tracks.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">updated_songs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_scrobbles.html">update_scrobbles</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">my_songs</span>,
                                  timestamp_column <span class="op">=</span> <span class="st">"date_unix"</span>,
                                  username <span class="op">=</span> <span class="st">"your_username"</span>,
                                  api_key <span class="op">=</span> <span class="st">"your_api_key"</span>
                                  <span class="op">)</span></code></pre></div>
<p>This is much faster than having to redownload every time. Note that a current limitation is that if you have added or removed any columns, this will fail as the new columns will not match the old ones. I plan to find a neater solution in future versions of <code>scrobbler</code>.</p>
<p>If you have any questions about <code>scrobbler</code>, feel free to reach out on github. Have fun!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Conor Neilson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
